<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" DefaultTargets="Build" ToolsVersion="4.0">
<PropertyGroup>
<SolutionDir Condition="'$(SolutionDir)' == ''">$(MSBuildProjectDirectory)</SolutionDir>
<BuildDir>build</BuildDir>
<Configuration Condition="'$(Configuration)' == ''">Release</Configuration>
</PropertyGroup>


  <ItemGroup>
    <CleanFiles Include="lib\TradingLib\*" />
    <CleanFiles Include="lib\TradingLib\Contrib\*" />
		<CleanFiles Include="lib\TradingLib\Connector\*" />
		<CleanFiles Include="lib\TradingLib\Account\*" />
		<CleanFiles Include="lib\TradingLib\RuleSet\*" />
    <CleanFiles Include="TL*\*\bin\$(Configuration)\**" />
    <CleanFiles Include="TL*\*\obj\$(Configuration)\**" />
  </ItemGroup>

  <ItemGroup>
    <OutputFiles Include="$(SolutionDir)\*\bin\$(Configuration)\*.dll" />
    <OutputFiles Include="$(SolutionDir)\*\bin\$(Configuration)\*.pdb" />
    <OutputFiles Include="$(SolutionDir)\*\bin\$(Configuration)\*.xml" />
  </ItemGroup>
  

  <Target Name="Clean">
    <Delete Files="@(CleanFiles)"/>
  </Target>
  
  
  

  
  <Target Name="Base">
    <MSBuild Projects="TL_Base\TradingLib.API\TradingLib.API.csproj" Properties="Configuration=$(Configuration);" />
		<MSBuild Projects="TL_Base\TradingLib.Common\TradingLib.Common.csproj" Properties="Configuration=$(Configuration);" />
		<MSBuild Projects="TL_Base\TradingLib.Mixins\TradingLib.Mixins.csproj" Properties="Configuration=$(Configuration);" />
	
		<MSBuild Projects="TL_Base_Ex\TradingLib.API.Ex\TradingLib.API.Ex.csproj" Properties="Configuration=$(Configuration);" />
		<MSBuild Projects="TL_Base_Ex\TradingLib.Common.Ext\TradingLib.Common.Ex.csproj" Properties="Configuration=$(Configuration);" />
  </Target>

  <Target Name="Server">
		<MSBuild Projects="TL_Server\TradingLib.Core\TradingLib.Core.csproj" Properties="Configuration=$(Configuration);" />
		<MSBuild Projects="TL_Server\TradingLib.Service\TradingLib.ServiceManager.csproj" Properties="Configuration=$(Configuration);" />
  </Target>
  
  <Target Name="Contrib" DependsOnTargets="Base">
    <MSBuild Projects="TL_Contrib\TradingLib.Contirb.LogServer\TradingLib.Contirb.LogServer.csproj" Properties="Configuration=$(Configuration);" />
    <MSBuild Projects="TL_Contrib\TradingLib.Contrib.CLIServer\TradingLib.Contrib.CLIServer.csproj" Properties="Configuration=$(Configuration);" />
    <MSBuild Projects="TL_Contrib\TradingLib.Contrib.EmailServer\TradingLib.Contrib.EmailServer.csproj" Properties="Configuration=$(Configuration);" />
    <MSBuild Projects="TL_Contrib\TradingLib.Contrib.WebServer\TradingLib.Contrib.WebPortal.csproj" Properties="Configuration=$(Configuration);" />
    <MSBuild Projects="TL_Contrib\Lottoqq.BasicInfo\Lottoqq.BasicInfo.csproj" Properties="Configuration=$(Configuration);" />
    <MSBuild Projects="TL_Contrib\TradingLib.Contrib.FinService\TradingLib.Contrib.FinService.csproj" Properties="Configuration=$(Configuration);" />
    <MSBuild Projects="TL_Contrib\TradingLib.Contrib.TradeFlow\TradingLib.Contrib.TradeFlow.csproj" Properties="Configuration=$(Configuration);" />
  </Target>
  
  <Target Name="Connector" DependsOnTargets="Base">
		<MSBuild Projects="TL_Connector\FastTickDataFeed\FastTickDataFeed.csproj" Properties="Configuration=$(Configuration);" />
		<MSBuild Projects="TL_Connector\SimBroker\SimBroker.csproj" Properties="Configuration=$(Configuration);" />
  </Target>

  <Target Name="Account" DependsOnTargets="Base">
		<MSBuild Projects="Program\Lottoqq.Account\Lottoqq.Account.csproj" Properties="Configuration=$(Configuration);" />
  </Target>

  <Target Name="RuleSet" DependsOnTargets="Base">
		<MSBuild Projects="TL_Base\TradingLib.API\TradingLib.API.csproj" Properties="Configuration=$(Configuration);" />
  </Target>

	<Target Name="ExServer" DependsOnTargets="Base">
		<MSBuild Projects="Program\TradingSrv\TradingSrv.csproj" Properties="Configuration=$(Configuration);" />
  </Target>

  
 	<Target Name="Test" DependsOnTargets="Compile">
   
 	</Target>
  
  <Target Name="Build" DependsOnTargets="Base">
    
  </Target>
  
</Project>
